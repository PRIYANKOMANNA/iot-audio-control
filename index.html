<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>IoT Audio Control</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="style.css">

<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
<script src="auth.js" defer></script>
<script src="app.js" defer></script>
<script src="schedule.js" defer></script>
<script src="tts.js" defer></script>

</head>

<body onload="checkLogin()">

<div id="loginBox">
  <h2>ğŸ” Login</h2>
  <input id="user" placeholder="Username">
  <input id="pass" type="password" placeholder="Password">
  <button onclick="loginUser()">Login</button>

</div>

<div id="panel" style="display:none">
  <h1>ğŸ”Š One-Tap Audio Control</h1>

  <button onclick="playBoth()">â–¶ Play Home + Shop</button>
  <button onclick="pauseBoth()">â¸ Pause</button>

  <label>Volume</label>
  <input type="range" min="0" max="100" value="50"
         oninput="setVolume(this.value)">

  <hr>

  <button onclick="announceMP3()">ğŸ“¢ MP3 Announcement</button>

  <button onclick="announceTTS(
    'à¦¦à§‹à¦•à¦¾à¦¨ à¦¬à¦¨à§à¦§ à¦¹à¦¬à§‡ à¦°à¦¾à¦¤ à¦¦à¦¶à¦Ÿà¦¾à§Ÿ. Shop will close at 10 PM',
    'mix'
  )">ğŸ“¢ TTS (BN + EN)</button>

  <hr>

  <label>Schedule Play</label>
  <input type="time" id="playTime">
  <button onclick="schedulePlay()">â± Schedule</button>

  <p id="status">Status: Connectingâ€¦</p>
</div>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js');
}
</script>

</body>
</html>

